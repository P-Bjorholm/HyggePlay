<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="HyggePlay.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:HyggePlay"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid x:Name="RootGrid" Background="#FF1E1E1E" Padding="24">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="360" />
            <ColumnDefinition Width="24" />
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="24" />
            <ColumnDefinition Width="360" />
        </Grid.ColumnDefinitions>

        <!-- Login Panel -->
        <Border Grid.Column="0"
                Background="#FF2D2D30"
                CornerRadius="12"
                Padding="32"
                VerticalAlignment="Stretch">
            <StackPanel Spacing="20">
                <TextBlock Text="HyggePlay IPTV Player"
                           HorizontalAlignment="Center"
                           FontSize="28"
                           FontWeight="SemiBold"
                           Foreground="White" />

                <!-- Saved Users -->
                <StackPanel Spacing="12">
                    <TextBlock Text="Saved Profiles"
                               Foreground="#FFCCCCCC"
                               FontSize="14" />
                    <ComboBox x:Name="UserComboBox"
                              PlaceholderText="Select a saved profile"
                              Background="#FF3C3C3C"
                              Foreground="White"
                              BorderBrush="#FF007ACC"
                              Padding="8,4"
                              DisplayMemberPath="DisplayName" />
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <Button x:Name="LoadUserButton"
                                Content="Load Channels"
                                Background="#FF3A96DD"
                                Foreground="White"
                                Padding="16,8"
                                HorizontalAlignment="Stretch"
                                MinWidth="120" />
                        <Button x:Name="DeleteUserButton"
                                Content="Delete"
                                Background="#FF7A1E1E"
                                Foreground="White"
                                Padding="16,8"
                                HorizontalAlignment="Stretch"
                                MinWidth="100" />
                    </StackPanel>
                </StackPanel>

                <Border Height="1" Background="#FF3C3C3C" />

                <!-- Login Form -->
                <StackPanel Spacing="16">
                    <TextBlock Text="Add new profile"
                               Foreground="#FFCCCCCC"
                               FontSize="14" />

                    <StackPanel Spacing="8">
                        <TextBlock Text="Server URL"
                                   Foreground="White"
                                   FontSize="14" />
                        <TextBox x:Name="ServerUrlTextBox"
                                 PlaceholderText="https://your-server.com"
                                 Background="#FF3C3C3C"
                                 Foreground="White"
                                 BorderBrush="#FF007ACC"
                                 Padding="12,8" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="Username"
                                   Foreground="White"
                                   FontSize="14" />
                        <TextBox x:Name="UsernameTextBox"
                                 PlaceholderText="Enter your username"
                                 Background="#FF3C3C3C"
                                 Foreground="White"
                                 BorderBrush="#FF007ACC"
                                 Padding="12,8" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="Password"
                                   Foreground="White"
                                   FontSize="14" />
                        <PasswordBox x:Name="PasswordBox"
                                     PlaceholderText="Enter your password"
                                     Background="#FF3C3C3C"
                                     Foreground="White"
                                     BorderBrush="#FF007ACC"
                                     Padding="12,8" />
                    </StackPanel>

                    <Button x:Name="LoginButton"
                            Content="Login"
                            HorizontalAlignment="Stretch"
                            Background="#FF007ACC"
                            Foreground="White"
                            Padding="0,12"
                            FontSize="16"
                            FontWeight="SemiBold"
                            Margin="0,10,0,0" />
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Video Player Panel -->
        <Border Grid.Column="2"
                Background="#FF2D2D30"
                CornerRadius="12"
                Padding="16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Video Player Header -->
                <StackPanel Grid.Row="0" Spacing="8" Margin="0,0,0,16">
                    <TextBlock Text="Video Player"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="White" />
                    <TextBlock x:Name="CurrentChannelText"
                               Text="No media loaded"
                               Foreground="#FFCCCCCC"
                               FontSize="14" />
                </StackPanel>

                <!-- Video Display Area -->
                <Border Grid.Row="1"
                        Background="Black"
                        CornerRadius="8"
                        MinHeight="300">
                    <Border x:Name="VideoContainer"
                            Background="Black"
                            CornerRadius="8" />
                </Border>

                <!-- Video Controls -->
                <StackPanel Grid.Row="2" Spacing="12" Margin="0,16,0,0">
                    <TextBlock Text="Playback Controls"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="White" />
                    
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <Button x:Name="PlayButton"
                                Content="Play"
                                Background="#FF007ACC"
                                Foreground="White"
                                Padding="16,8"
                                Click="OnPlayButtonClick" />
                        <Button x:Name="PauseButton"
                                Content="Pause"
                                Background="#FF666666"
                                Foreground="White"
                                Padding="16,8"
                                Click="OnPauseButtonClick" />
                        <Button x:Name="StopButton"
                                Content="Stop"
                                Background="#FF7A1E1E"
                                Foreground="White"
                                Padding="16,8"
                                Click="OnStopButtonClick" />
                    </StackPanel>

                    <!-- Test Stream URL Input -->
                    <StackPanel Spacing="8">
                        <TextBlock Text="Test Media URL"
                                   Foreground="White"
                                   FontSize="12" />
                        <TextBox x:Name="TestStreamUrlTextBox"
                                 PlaceholderText="Enter video URL or file path (e.g., https://sample-videos.com/...)"
                                 Background="#FF3C3C3C"
                                 Foreground="White"
                                 BorderBrush="#FF007ACC"
                                 Padding="8,6"
                                 FontSize="12" />
                        <Button x:Name="LoadTestStreamButton"
                                Content="Load and Play"
                                Background="#FF3A96DD"
                                Foreground="White"
                                Padding="12,6"
                                FontSize="12"
                                Click="OnLoadTestStreamButtonClick" />
                    </StackPanel>

                    <!-- Volume Control -->
                    <StackPanel Spacing="8">
                        <TextBlock Text="Volume"
                                   Foreground="White"
                                   FontSize="12" />
                        <Slider x:Name="VolumeSlider"
                                Minimum="0"
                                Maximum="100"
                                Value="100"
                                Width="200"
                                HorizontalAlignment="Left"
                                ValueChanged="OnVolumeSliderValueChanged" />
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Channel Library Panel -->
        <Border x:Name="ChannelSearchPanel"
                Grid.Column="4"
                Background="#FF2D2D30"
                CornerRadius="12"
                Padding="32"
                Visibility="Collapsed">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Header -->
                <StackPanel Grid.Row="0" Spacing="12">
                    <TextBlock Text="Channel Library"
                               FontSize="24"
                               FontWeight="SemiBold"
                               Foreground="White" />
                    <TextBlock Text="Browse your synchronized channels"
                               Foreground="#FFCCCCCC"
                               FontSize="13" />
                </StackPanel>

                <!-- Search Controls -->
                <StackPanel Grid.Row="1" Spacing="12" Margin="0,24,0,12">
                    <ComboBox x:Name="ChannelGroupComboBox"
                              PlaceholderText="All groups"
                              Background="#FF3C3C3C"
                              Foreground="White"
                              BorderBrush="#FF007ACC"
                              Padding="8,4" />
                    <TextBox x:Name="ChannelSearchTextBox"
                             PlaceholderText="Search channels"
                             Background="#FF3C3C3C"
                             Foreground="White"
                             BorderBrush="#FF007ACC"
                             Padding="12,8" />
                </StackPanel>

                <!-- Channel List -->
                <Border Grid.Row="2"
                        Background="#FF1E1E1E"
                        CornerRadius="8"
                        BorderBrush="#FF3C3C3C"
                        BorderThickness="1"
                        Padding="12">
                    <ListView x:Name="ChannelResultsListView"
                              SelectionMode="Single"
                              Background="Transparent"
                              BorderThickness="0"
                              IsItemClickEnabled="True"
                              SelectionChanged="ChannelResultsListView_SelectionChanged">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Spacing="4" Margin="8">
                                    <TextBlock Text="{Binding Name}"
                                               FontSize="16"
                                               FontWeight="SemiBold"
                                               Foreground="White" />
                                    <TextBlock Text="{Binding GroupName}"
                                               FontSize="12"
                                               Foreground="#FFAAAAAA" />
                                </StackPanel>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Border>

                <!-- Footer -->
                <TextBlock Grid.Row="3"
                           Margin="0,12,0,0"
                           Text="Search results update automatically as you type"
                           Foreground="#FF767676"
                           FontSize="12" />
            </Grid>
        </Border>
    </Grid>
</Window>
